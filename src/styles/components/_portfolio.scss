// Portfolio..........Portfolio section styles.

.portfolio {
  @include container;
  position: relative;
  padding-top: ($core-padding * 3);
  padding-bottom: ($core-padding * 3);

  @include min(l) {
    padding-top: ($core-padding * 4.5);
    padding-bottom: ($core-padding * 4.5);
  }
}

.portfolio__heading {
  @include text(saturn);
  margin-bottom: ($core-margin / 2);
}

.portfolio__heading-main {
  @include text(uranus);
}

.portfolio__heading-small {
  @include text(pluto);
}

.portfolio__sub-text {
  max-width: 550px;
  margin-bottom: ($core-margin * 3);
}

.portfolio__content {
  @include min(m) {
    column-count: 2;
    column-gap: ($core-margin * 2.2);
  }
}

.portfolio__item {
  position: relative;
  background-color: $core-color-brand;
  margin-bottom: ($core-margin * 2.2);
  overflow: hidden;

  @include min(m) {
    display: inline-block;
    width: 100%;
    margin-bottom: ($core-margin * 2);
  }

  @include min(l) {
    overflow: hidden;
  }
}

.portfolio__figure {
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, rgba($core-color-foreground, 0.1) 0%,$core-color-foreground 100%);
    z-index: z(alpha);
  }

  @include min(l) {
    &::before {
      @include transition-03(opacity);
    }

    .js &::before {
      opacity: 0;
    }
  }
}

.portfolio__title {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  text-indent: -9999px;
  z-index: z(echo);

  @include min(l) {
    &:hover + .portfolio__figure::before,
    &:hover + .portfolio__figure .portfolio__picture::before,
    &:hover + .portfolio__figure .portfolio__caption {
      opacity: 1;
    }
  }
}

.portfolio__picture {
  position: relative;
  display: block;

  &:not(&--square) {
    padding-top: (536 / 800) * 100%;
  }

  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: calc(100% - #{$core-grid-unit * 2});
    height: calc(100% - #{$core-grid-unit * 2});
    border-width: $core-border-width;
    border-style: $core-border-style;
    border-color: $core-color-link;
    transform: translate(-50%, -50%);
    z-index: z(charlie);
  }

  @include min(xs) {
    &::before {
      width: calc(100% - #{$core-grid-unit * 3});
      height: calc(100% - #{$core-grid-unit * 3});
    }
  }

  @include min(l) {
    &::before {
      @include transition-03(opacity);
      width: calc(100% - #{$core-grid-unit * 4});
      height: calc(100% - #{$core-grid-unit * 4});
      opacity: 0;
    }
  }
}

.portfolio__picture--square {
  padding-top: (880 / 1000) * 100%;
}

.portfolio__image {
  .no-js & {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

.portfolio__caption {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  padding-top: 0;
  padding-right: ($core-padding * 2);
  padding-bottom: ($core-padding * 2.5);
  padding-left: ($core-padding * 2);
  color: $core-color-background;
  z-index: z(beta);

  @include min(xs) {
    padding-right: ($core-padding * 2.5);
    padding-left: ($core-padding * 2.5);
  }

  @include min(l) {
    @include transition-03(opacity);
    padding: ($core-padding * 4);
    opacity: 0;
  }
}

.portfolio__caption-title {
  @include text(mars);
  color: $core-color-background;
}

.portfolio__caption-tags {
  display: inline-block;
  margin-right: ($core-margin / 2);

  &::after {
    content: ',';
  }

  &:last-child {
    margin-right: 0;

    &::after {
      content: '';
    }
  }
}

.portfolio__caption-category {
  @include text(earth);
  color: $core-color-link;
  margin-bottom: 0;
}
